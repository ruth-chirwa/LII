<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login to Likoma Institute of Innovation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #FFD700;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .card {
            border: none;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            max-width: 900px;
            width: 100%;
        }
        .card img {
            height: 100%;
            width: 100%;
            object-fit: cover;
        }
        .form-section {
            padding: 50px 40px;
        }
        .logo {
            font-size: 2rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }
        .logo-icon {
            font-size: 2rem;
            color: #f16821;
            margin-right: 10px;
        }
        .form-control {
            border-radius: 10px;
        }
        .btn-login {
            border-radius: 10px;
            font-weight: bold;
        }
        .small-text {
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="card">
        <div class="row g-0">
            <!-- Image section -->
            <div class="col-md-6 d-none d-md-block">
                <img src="../img/login.jpg" alt="Login Image">
            </div>

            <!-- Form section -->
            <div class="col-md-6">
                <div class="form-section">
                    <div class="logo">
                        <div class="logo-icon"></div>
                        ðŸ’¡LII

                    </div>

                    <h5 class="mb-4 text-center">Sign into your account</h5>

                    <form id="loginForm">
                        <div class="mb-3">
                            <label>Email address</label>
                            <input type="email" class="form-control" placeholder="Email address">
                        </div>
                        <div class="mb-3">
                            <label>Login as </label>
                            <select class="form-select" id="role" required>
                            <option value="" disabled selected>Select Role</option>
                             <option value="Student">Student</option>
                            <option value="Lecturer">Lecturer</option>
                             </select>

                        </div>

                        <div class="mb-3">
                            <label>Password</label>
                            <input type="password" class="form-control" placeholder="Password">
                        </div>

                        <div class="d-grid mb-3">
                            <button type="submit" class="btn btn-dark btn-login">LOGIN</button>
                        </div>

                        <div class="text-center small-text">
                            <a href="#">Forgot password?</a><br>
                            Don't have an account? <a href="Register.html">Register here</a>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
<script>
    
let users = [];

function handleLogin(event) {
    event.preventDefault();

    // Get form values
    const email = document.querySelector('input[type="email"]').value;
    const password = document.querySelector('input[type="password"]').value;
    const role = document.getElementById('role').value;

    // Check if user exists and credentials match
    const user = users.find(u => u.email === email && u.password === password && u.role === role);

    if (user) {
        // Store the role in localStorage 
        localStorage.setItem('userRole', role);

        if (role === "Student") {
            window.location.href = "studentDashboard.html";
        } else if (role === "Lecturer") {
            window.location.href = "lecturerDashboard.html";
        }
    } else {
        alert("Invalid email, password, or role. Please try again or register first.");
    }
}

// Function to sync with registration data
function syncWithRegistration() {
   
    const registeredRole = localStorage.getItem('userRole');
    if (registeredRole) {
        const email = prompt("Enter the email used during registration:");
        const password = prompt("Enter the password used during registration:");
        if (email && password) {
            users.push({ email, password, role: registeredRole });
            localStorage.removeItem('userRole'); 
            alert("You can now log in.");
        }
    }
}


document.addEventListener('DOMContentLoaded', syncWithRegistration);
document.getElementById('loginForm').addEventListener('submit', handleLogin);
</script>
    
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>